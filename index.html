<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Gacha Quiz Machine</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 20px;
    }
    h1 { margin-bottom: 10px; }
    .balls {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 15px;
      max-width: 400px;
      margin: 20px auto;
    }
    .ball {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle, #4e9, #269);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 18px;
      cursor: pointer;
      transition: opacity 0.3s;
    }
    .ball.opened {
      background: gray;
      cursor: not-allowed;
      opacity: 0.5;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #spinBtn { background: #6a5acd; color: white; }
    #retryBtn { background: #ff6347; color: white; }
    #questionBox {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      display: none;
    }
    #customBox {
      margin-top: 30px;
      padding: 15px;
      background: rgba(255,255,255,0.15);
      border-radius: 10px;
    }
    input {
      margin: 5px;
      padding: 6px;
      border-radius: 6px;
      border: none;
    }
  </style>
</head>
<body>
  <h1>üé∞ Gacha Quiz Machine</h1>
  <p>10 qu·∫£ c·∫ßu = 10 c√¢u h·ªèi. B·∫°n c√≥ th·ªÉ t√πy ch·ªânh b·ªô c√¢u h·ªèi ri√™ng!</p>

  <div class="balls" id="ballContainer"></div>

  <button id="spinBtn" onclick="spin()">Quay</button>
  <button id="retryBtn" onclick="resetGame()">üîÑ Th·ª≠ l·∫°i</button>

  <div id="questionBox">
    <h3>C√¢u h·ªèi</h3>
    <p id="questionText"></p>
    <input type="text" id="answerInput" placeholder="Nh·∫≠p ƒë√°p √°n...">
    <button onclick="checkAnswer()">Ki·ªÉm tra</button>
    <p id="result"></p>
  </div>

  <div id="customBox">
    <h3>üìù Th√™m c√¢u h·ªèi ri√™ng</h3>
    <input type="text" id="newQ" placeholder="C√¢u h·ªèi">
    <input type="text" id="newA" placeholder="ƒê√°p √°n">
    <button onclick="addQuestion()">Th√™m</button>
    <button onclick="clearQuestions()">Xo√° h·∫øt</button>
    <p id="customInfo"></p>
  </div>

  <script>
    let questions = [
      {q: "H√†nh tinh l·ªõn nh·∫•t trong H·ªá M·∫∑t Tr·ªùi?", a: "Sao M·ªôc"},
      {q: "Qu·ªëc gia c√≥ di·ªán t√≠ch l·ªõn nh·∫•t th·∫ø gi·ªõi?", a: "Nga"},
      {q: "Ai l√† ng∆∞·ªùi vi·∫øt Truy·ªán Ki·ªÅu?", a: "Nguy·ªÖn Du"},
      {q: "Ng√¥n ng·ªØ l·∫≠p tr√¨nh ph·ªï bi·∫øn cho web?", a: "JavaScript"},
      {q: "Th·ªß ƒë√¥ c·ªßa Nh·∫≠t B·∫£n?", a: "Tokyo"},
      {q: "T√°c gi·∫£ c·ªßa Harry Potter?", a: "J.K. Rowling"},
      {q: "S·ªë nguy√™n t·ªë nh·ªè nh·∫•t?", a: "2"},
      {q: "NƒÉm c√≥ bao nhi√™u ng√†y (kh√¥ng nhu·∫≠n)?", a: "365"},
      {q: "M√†u l√° c√¢y th∆∞·ªùng th·∫•y l√† g√¨?", a: "Xanh"},
      {q: "V·ªãnh n·ªïi ti·∫øng ·ªü Qu·∫£ng Ninh, Vi·ªát Nam?", a: "H·∫° Long"}
    ];

    let remainingBalls = [], openedBalls = [], currentAnswer = "";

    function initGame() {
      const container = document.getElementById("ballContainer");
      container.innerHTML = "";
      remainingBalls = [];
      openedBalls = [];
      for (let i = 1; i <= questions.length; i++) {
        const ball = document.createElement("div");
        ball.className = "ball";
        ball.textContent = i;
        container.appendChild(ball);
        remainingBalls.push(i);
      }
      document.getElementById("questionBox").style.display = "none";
      document.getElementById("customInfo").innerText =
        `Hi·ªán c√≥ ${questions.length} c√¢u h·ªèi trong b·ªô gacha.`;
    }

    function spin() {
      if (remainingBalls.length === 0) {
        alert("ƒê√£ m·ªü h·∫øt c√¢u h·ªèi! B·∫•m 'Th·ª≠ l·∫°i' ƒë·ªÉ ch∆°i l·∫°i.");
        return;
      }
      const index = Math.floor(Math.random() * remainingBalls.length);
      const ballNum = remainingBalls.splice(index, 1)[0];
      openedBalls.push(ballNum);
      const container = document.getElementById("ballContainer");
      const ball = container.children[ballNum - 1];
      ball.classList.add("opened");

      document.getElementById("questionBox").style.display = "block";
      document.getElementById("questionText").textContent = questions[ballNum - 1].q;
      currentAnswer = questions[ballNum - 1].a.toLowerCase();
      document.getElementById("answerInput").value = "";
      document.getElementById("result").textContent = "";
    }

    function checkAnswer() {
      const userAns = document.getElementById("answerInput").value.trim().toLowerCase();
      if (userAns === currentAnswer) {
        document.getElementById("result").textContent = "‚úÖ Ch√≠nh x√°c!";
      } else {
        document.getElementById("result").textContent = "‚ùå Sai. ƒê√°p √°n ƒë√∫ng: " + currentAnswer;
      }
    }

    function resetGame() {
      initGame();
      alert("Game ƒë√£ ƒë∆∞·ª£c reset!");
    }

    function addQuestion() {
      const q = document.getElementById("newQ").value.trim();
      const a = document.getElementById("newA").value.trim();
      if (!q || !a) {
        alert("Vui l√≤ng nh·∫≠p ƒë·ªß c√¢u h·ªèi v√† ƒë√°p √°n!");
        return;
      }
      questions.push({q, a});
      document.getElementById("newQ").value = "";
      document.getElementById("newA").value = "";
      initGame();
    }

    function clearQuestions() {
      if (confirm("Xo√° h·∫øt c√¢u h·ªèi v√† b·∫Øt ƒë·∫ßu l·∫°i?")) {
        questions = [];
        initGame();
      }
    }

    // Kh·ªüi t·∫°o game l·∫ßn ƒë·∫ßu
    initGame();
  </script>
</body>
</html>
