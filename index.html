<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Gacha Quiz Machine - Tr·∫Øc nghi·ªám</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 20px;
    }
    h1 { margin-bottom: 10px; }
    .balls {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 15px;
      max-width: 400px;
      margin: 20px auto;
    }
    .ball {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle, #4e9, #269);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 18px;
      cursor: pointer;
      transition: opacity 0.3s;
    }
    .ball.opened {
      background: gray;
      cursor: not-allowed;
      opacity: 0.5;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #spinBtn { background: #6a5acd; color: white; }
    #retryBtn { background: #ff6347; color: white; }
    #questionBox {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      display: none;
    }
    .option {
      display: block;
      margin: 8px auto;
      padding: 8px 15px;
      width: 200px;
      border-radius: 8px;
      background: #1e90ff;
      color: white;
      cursor: pointer;
    }
    .option:hover { background: #4682b4; }
    #customBox {
      margin-top: 30px;
      padding: 15px;
      background: rgba(255,255,255,0.15);
      border-radius: 10px;
    }
    input {
      margin: 5px;
      padding: 6px;
      border-radius: 6px;
      border: none;
    }
  </style>
</head>
<body>
  <h1>üé∞ Gacha Quiz Machine (Tr·∫Øc nghi·ªám)</h1>
  <p>10 qu·∫£ c·∫ßu = 10 c√¢u h·ªèi. Ch·ªçn 1 trong 4 ƒë√°p √°n!</p>

  <div class="balls" id="ballContainer"></div>

  <button id="spinBtn" onclick="spin()">Quay</button>
  <button id="retryBtn" onclick="resetGame()">üîÑ Th·ª≠ l·∫°i</button>

  <div id="questionBox">
    <h3>C√¢u h·ªèi</h3>
    <p id="questionText"></p>
    <div id="options"></div>
    <p id="result"></p>
  </div>

  <script>
    let questions = [
      {q: "H√†nh tinh l·ªõn nh·∫•t h·ªá M·∫∑t Tr·ªùi?", options: ["Tr√°i ƒê·∫•t", "Sao Ho·∫£", "Sao M·ªôc", "Sao Kim"], answer: 2},
      {q: "Qu·ªëc gia c√≥ di·ªán t√≠ch l·ªõn nh·∫•t th·∫ø gi·ªõi?", options: ["M·ªπ", "Trung Qu·ªëc", "Nga", "Canada"], answer: 2},
      {q: "Ai l√† t√°c gi·∫£ Truy·ªán Ki·ªÅu?", options: ["Nguy·ªÖn Tr√£i", "Nguy·ªÖn Du", "T·ªë H·ªØu", "H·ªì Xu√¢n H∆∞∆°ng"], answer: 1},
      {q: "Ng√¥n ng·ªØ l·∫≠p tr√¨nh ph·ªï bi·∫øn cho web?", options: ["Python", "JavaScript", "C++", "PHP"], answer: 1},
      {q: "Th·ªß ƒë√¥ c·ªßa Nh·∫≠t B·∫£n?", options: ["Kyoto", "Tokyo", "Osaka", "Nagoya"], answer: 1},
      {q: "T√°c gi·∫£ c·ªßa Harry Potter?", options: ["J.R.R. Tolkien", "J.K. Rowling", "George R.R. Martin", "Stephen King"], answer: 1},
      {q: "S·ªë nguy√™n t·ªë nh·ªè nh·∫•t?", options: ["1", "2", "3", "5"], answer: 1},
      {q: "M·ªôt nƒÉm th∆∞·ªùng c√≥ bao nhi√™u ng√†y?", options: ["364", "365", "366", "360"], answer: 1},
      {q: "M√†u s·∫Øc ph·ªï bi·∫øn c·ªßa l√° c√¢y?", options: ["ƒê·ªè", "V√†ng", "Xanh", "T√≠m"], answer: 2},
      {q: "V·ªãnh n·ªïi ti·∫øng ·ªü Qu·∫£ng Ninh?", options: ["Cam Ranh", "H·∫° Long", "V√¢n Phong", "Xu√¢n ƒê√†i"], answer: 1}
    ];

    let remainingBalls = [], openedBalls = [], currentAnswer = -1;

    function initGame() {
      const container = document.getElementById("ballContainer");
      container.innerHTML = "";
      remainingBalls = [];
      openedBalls = [];
      for (let i = 1; i <= questions.length; i++) {
        const ball = document.createElement("div");
        ball.className = "ball";
        ball.textContent = i;
        container.appendChild(ball);
        remainingBalls.push(i);
      }
      document.getElementById("questionBox").style.display = "none";
    }

    function spin() {
      if (remainingBalls.length === 0) {
        alert("ƒê√£ m·ªü h·∫øt c√¢u h·ªèi! B·∫•m 'Th·ª≠ l·∫°i' ƒë·ªÉ ch∆°i l·∫°i.");
        return;
      }
      const index = Math.floor(Math.random() * remainingBalls.length);
      const ballNum = remainingBalls.splice(index, 1)[0];
      openedBalls.push(ballNum);
      const container = document.getElementById("ballContainer");
      const ball = container.children[ballNum - 1];
      ball.classList.add("opened");

      showQuestion(ballNum - 1);
    }

    function showQuestion(idx) {
      const q = questions[idx];
      document.getElementById("questionBox").style.display = "block";
      document.getElementById("questionText").textContent = q.q;
      currentAnswer = q.answer;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.className = "option";
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(i);
        optionsDiv.appendChild(btn);
      });
      document.getElementById("result").textContent = "";
    }

    function checkAnswer(choice) {
      if (choice === currentAnswer) {
        document.getElementById("result").textContent = "‚úÖ Ch√≠nh x√°c!";
      } else {
        document.getElementById("result").textContent =
          "‚ùå Sai. ƒê√°p √°n ƒë√∫ng l√†: " + questions.find(q => q.answer === currentAnswer).options[currentAnswer];
      }
    }

    function resetGame() {
      initGame();
      alert("Game ƒë√£ ƒë∆∞·ª£c reset!");
    }

    // Kh·ªüi t·∫°o l·∫ßn ƒë·∫ßu
    initGame();
  </script>
</body>
</html>
